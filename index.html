<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Seize the day!</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
         integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
      <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
      <link rel="stylesheet" href="assets/css/style.css" type="text/css">
   </head>
   <body>
      <!-- navigation bar-->
      <nav class="navbar navbar-dark navbar-expand-sm">
         <a href="index.html" class="navbar-bar-name">
         Seize the Day!
         </a>
         <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
         </button>
         <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul>

            </ul>
         </div>
      </nav>
      <!--header-->
      <header>
         <section class="container-fluid today-date-container">
<!-- Paragraph element for displaying the string date -->
            <p id="longDate"></p>

<!-- Paragraph element for displaying the numerical date -->
            <p id="shortDate"></p>

<!-- Paragraph element for displaying the current time -->
            <p id="currentTime"></p>
              
         </section>
      </header>
      <!--main section- panels and timers-->
      <main>
         <section class="container-fluid main-container">
      <!--postit panels-->
            <section>
                <div class="panels">
                    <div class="panel panel1">
                      <p>Panel 1</p>
                      
                    </div>
                    <div class="panel panel2">
                      <p>Panel 2</p>
                      
                    </div>
                    <div class="panel panel3">
                      <p>Panel 3</p>
                      
                    </div>
                    <div class="panel panel4">
                      <p>Panel 4</p>
                      
                    </div>
                    <div class="panel panel5">
                      <p>Panel 5</p>
                      <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body>
    <div id="timer-message">Please select a timer before starting.</div>

<div class="timer-container">
      <div class="timer">
        <h2>üçÖ Pomodoro Timer</h2>

        <div class="button-container">
          <button class="button" id="pomodoro-session">Pomodoro</button>
          <button class="button" id="short-break">Short Break</button>
          <button class="button" id="long-break">Long break</button>
        </div>

        <div id="pomodoro-timer" class="timer-display" data-duration="25.00">
          25:00
        </div>

        <div id="short-timer" class="timer-display" data-duration="5.00">
          5:00
        </div>

        <div id="long-timer" class="timer-display" data-duration="10.00">
          10:00
        </div>

        <div id="buttons">
          <button id="start">START</button>
          <button id="stop">STOP</button>
        </div>
      </div>
    </div>
    <!--Clock------------------>
                <div class="clock">
                    <div class="clock-face">
                      <div class="hand hour-hand"></div>
                      <div class="hand min-hand"></div>
                      <div class="hand second-hand"></div>
                    </div>
                </div>
            </section>   
         </section>
      <!-- footer -->
      <footer class="container-fluid">
         <div class="row">
            <div class="col-sm-12">
               <ul class="list-inline social-links">
                  <li class="list-inline-item">
                     <a target="_blank" href="https://www.facebook.com/" aria-label="Facebook">
                     <i class="fab fa-facebook social-link-icon" aria-hidden="true"></i>
                     <span class="sr-only">
                     Facebook
                     </span>
                     </a>
                  </li>
                  <li class="list-inline-item">
                     <a target="_blank" href="https://twitter.com/" aria-label="Twitter">
                     <i class="fab fa-twitter social-link-icon" aria-hidden="true"></i>
                     <span class="sr-only">
                     Twitter
                     </span>
                     </a>
                  </li>
                  <li class="list-inline-item">
                     <a target="_blank" href="https://www.instagram.com/" aria-label="Instagram">
                     <i class="fab fa-instagram social-link-icon" aria-hidden="true"></i>
                     <span class="sr-only">
                     Instagram
                     </span>
                     </a>
                  </li>
               </ul>
            </div>
         </div>
      </footer>
      <script>
//panels       
      const panels = document.querySelectorAll('.panel');

function toggleOpen() {
  console.log('Hello');
  this.classList.toggle('open');
}

function toggleActive(e) {
  console.log(e.propertyName);
  if (e.propertyName.includes('flex')) {
    this.classList.toggle('open-active');
  }
}

panels.forEach(panel => panel.addEventListener('click', toggleOpen));
panels.forEach(panel => panel.addEventListener('transitionend', toggleActive));
        // Get current date and time
        var now = new Date();
      
        // Short date format options
        var shortDateFormatOptions = {
          year: 'numeric', // Full year (e.g., "2024")
          month: 'numeric', // Short month name (e.g., "Jan")
          day: 'numeric' // Numeric day of the month (e.g., "1")
        };
      
        // Long date format options
        var longDateFormatOptions = {
          weekday: 'long', // Full day name (e.g., "Monday")
          year: 'numeric', // Full year (e.g., "2024")
          month: 'long', // Full month name (e.g., "January")
          day: 'numeric' // Numeric day of the month (e.g., "1")
        };
      
        // Get short and long date strings
        var shortDateString = now.toLocaleDateString(undefined, shortDateFormatOptions);
        var longDateString = now.toLocaleDateString(undefined, longDateFormatOptions);

        // Get current time string
        var timeString = now.toLocaleTimeString();
      
        // Insert short date into HTML
        document.getElementById("shortDate").innerHTML = shortDateString;
      
        // Insert long date into HTML
        document.getElementById("longDate").innerHTML = longDateString;

        // Insert current time into HTML
        document.getElementById("currentTime").innerHTML = "Current Time: " + timeString;
// pomodoro timer
        let pomodoro = document.getElementById("pomodoro-timer");
      let short = document.getElementById("short-timer");
      let long = document.getElementById("long-timer");
      let currentTimer = null;

      function showDefaultTimer() {
        pomodoro.style.display = "block";
        short.style.display = "none";
        long.style.display = "none";
      }

      showDefaultTimer();

      function hideAll() {
        let timers = document.querySelectorAll(".timer-display");
        timers.forEach((timer) => (timer.style.display = "none"));
      }

      document
        .getElementById("pomodoro-session")
        .addEventListener("click", function () {
          hideAll();

          pomodoro.style.display = "block";
          currentTimer = pomodoro;
        });
      document
        .getElementById("short-break")
        .addEventListener("click", function () {
          hideAll();

          short.style.display = "block";
          currentTimer = short;
        });
      document
        .getElementById("long-break")
        .addEventListener("click", function () {
          hideAll();

          long.style.display = "block";
          currentTimer = long;
        });

      let myInterval = null;

      function startTimer(timerdisplay) {
        if (myInterval) {
          clearInterval(myInterval);
        }

        timerDuration = timerdisplay
          .getAttribute("data-duration")
          .split(":")[0];
        console.log(timerDuration);

        let durationinmiliseconds = timerDuration * 60 * 1000;
        let endTimestamp = Date.now() + durationinmiliseconds;

        myInterval = setInterval(function () {
          const timeRemaining = new Date(endTimestamp - Date.now());

          if (timeRemaining <= 0) {
            clearInterval(myInterval);
            timerdisplay.textContent = "00:00";
            const alarm = new Audio(
              "https://www.freespecialeffects.co.uk/soundfx/scifi/electronic.wav"
            );
            alarm.play();
          } else {
            const minutes = Math.floor(timeRemaining / 60000);
            const seconds = ((timeRemaining % 60000) / 1000).toFixed(0);
            const formattedTime = `${minutes}:${seconds
              .toString()
              .padStart(2, "0")}`;
            console.log(formattedTime);
            timerdisplay.textContent = formattedTime;
          }
        }, 1000);
      }

      document.getElementById("start").addEventListener("click", function () {
        if (currentTimer) {
            startTimer(currentTimer);
            document.getElementById("timer-message").style.display = "none"; 
        } else {
            document.getElementById("timer-message").style.display = "block";
        }
    });

      document.getElementById("stop").addEventListener("click", function () {
        if (currentTimer) {
          clearInterval(myInterval);
        }
      });

      </script>
      

   </body>
</html>